---
title: 博客自定义域名教程
date: 2019-09-19 20:34:57
toc: true
categories: 博客相关
tags: 
---

我的博客是托管在**Github Pages**上，默认的域名便是 yourname.github.io ，如何将域名变得更简单和更有个性呢，这就是自定义域名。我在阿里云上买了一个 **.top** 为后缀的域名，目前完整域名为 [lazypie.top](lazypie.top) 。看起来还是比默认的 github.io 域名舒服的呀，接下来就讲讲设置自定义域名的步骤。

<!--more-->

<br/>

### 域名控制台设置

购买域名可选择的网站很多，由于我是在阿里云购买的，这里拿阿里云举例。购买完你的域名和认证完成后，进入域名控制台，选择操作中的解析:

<img src="博客自定义域名教程\微信图片_20190919204928.png" />

<br/>

点击添加记录，记录类型选择 **CNAME** ，主机记录填写 **www** ，解析线路 **默认** ，记录值填写 **yourname.github.io** (这里是你原来的博客域名)，TTL填写 **10分钟**  ：

<img src="博客自定义域名教程\微信图片编辑_20190919221051.jpg" alt="" style="zoom:67%;" />

<br/>

重复以上步骤再添加一条记录，主机记录改为 **@** ，其他不变，最后如图下：

<center>
	<img  src="博客自定义域名教程\微信图片编辑_20190919222150.jpg" />
</center>


<br/>

### Github设置

打开GitHub，进入你托管博客的仓库页面，点击设置：

<img src="博客自定义域名教程\1568903211373.png" />

<br/>

往下滑找到**Github Pages板块**，在Custom domain下面的输入框输入你的自定义域名后点击save保存：

<img src="博客自定义域名教程\微信截图_20190919223012.png" alt="" style="zoom:67%;" />

<br/>

到这里你应该可以用你的自定义域名打开你的博客页面了，但是将来重新部署后可能又会打不开，这时候就要看下面的设置了。

> 适用于GitHub仓库里丢失了CNAME文件和博客根目录/source下丢失CNAME文件

<br/>

### 添加CNAME文件

打开GitHub，进入你托管博客的仓库页面，点击 **Create new file** :

<img src="博客自定义域名教程\1568903858636.png" />

<br/>

输入你的自定义域名后划到下面点击 **Commit new file** 提交文件:

<img src="博客自定义域名教程\1568904073535.png" />

<br/>

接下来打开你的博客根目录/source，新建一个名为 **CNAME** 的文件，在里面输入你的自定义域名（新建一个txt文档，输入完后重命名文件删掉文件后缀名即可）：

<img src="博客自定义域名教程\1568904349992.png">

如果你使用的是mac系统，则可以通过终端新建一个无后缀的文件

```zsh
# 在source目录下
echo [你的域名] > CNAME
```

<br/>

到这里就完成自定义域名啦，大概等一小会就ok了。